---
说明：GitHub Copilot 翻译
---
[English](/docs/sync_algorithm_v3.md) | 中文

# 同步算法 V3

起草于 20240117。

一个绝对更好的同步算法。更适合跟踪删除和子分支。

## 特别感谢

基本上是算法 v2 + [synclone](https://github.com/Jwink3101/syncrclone) + [rsinc](https://github.com/ConorWilliams/rsinc) + (一些 rclone 的 [bisync](https://rclone.org/bisync/)) 的组合。后面三个都是在 MIT 许可下发布的，所以不用担心许可问题。

## 特性

必须有的

1. 真正的删除检测
2. 带有设置的删除保护（阻止）
3. 从旧算法进行事务
4. 用户警告显示，**新算法需要所有客户端更新！**（故意损坏元数据文件？）
5. 过滤器
6. 冲突警告
7. 部分同步

好有的

1. 真正的时间和哈希
2. 冲突重命名

## 描述

我们有五个输入源：本地所有文件、远程所有文件、本地先前成功的同步历史、本地删除、远程删除。

初始运行，使用本地删除和远程删除：

待定

后续运行，仅使用第一、第二、第三个源。

待定
