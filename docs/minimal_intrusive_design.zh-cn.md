<!---
说明：GitHub Copilot 翻译
--->
[English](/docs/minimal_intrusive_design.md) | 中文

# 最小侵入式设计

在0.3.0版本之前，该插件不会将额外的元数据上传到远程。

从0.3.0版本开始，该插件只会上传到远程所需的最小额外元数据。

## 好处

这样，插件就不会对远程端点的信息做出过多的假设。

例如，用户可以手动将文件上传到S3，下次插件可以将该文件下载到本地设备。

还可以在桌面上结合另一个“同步到S3”的解决方案（比如另一个软件），以及在移动设备上使用该插件。

## 上传额外元数据的必要性

主要问题来自删除操作（以及实际上被解释为“删除-创建”的重命名操作）。

如果我们不向远程上传任何额外的信息，第二个设备通常无法知道第一个设备上已删除的文件/文件夹。

为了解决这个问题，从0.3.0版本开始，该插件会将额外的元数据文件`_remotely-save-metadata-on-remote.{json,bin}`上传到用户配置的云服务中。这些文件包含有关第一个设备上已删除的内容的一些信息，以便第二个设备可以读取该列表并将删除操作应用于自身。其他一些必要的元信息也会写入额外的文件中。
